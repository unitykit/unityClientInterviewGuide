# é¢å‘æ¥å£

### **æ¥å£ï¼ˆInterfaceï¼‰çš„å®šä¹‰ä¸æœ¬è´¨**

**æ¥å£æ˜¯è¡Œä¸ºçš„æŠ½è±¡å¥‘çº¦**ï¼Œå®ƒä»…å®šä¹‰ç±»â€œå¿…é¡»åšä»€ä¹ˆâ€ï¼ˆæ–¹æ³•ã€å±æ€§ç­‰ç­¾åï¼‰ï¼Œè€Œä¸è§„å®šâ€œå¦‚ä½•å®ç°â€

- **æ ¸å¿ƒç‰¹ç‚¹**ï¼š 

- ğŸ“œ **çº¯æŠ½è±¡è§„èŒƒ**ï¼šä¸åŒ…å«å­—æ®µã€æ„é€ å‡½æ•°æˆ–å…·ä½“å®ç°ï¼ˆC#8å‰ï¼‰
- ğŸ”— **å¤šç»§æ‰¿æ”¯æŒ**ï¼šç±»å¯åŒæ—¶å®ç°å¤šä¸ªæ¥å£ï¼ˆè§£å†³C#å•ç»§æ‰¿é™åˆ¶ï¼‰
- âš™ï¸ **å¤šæ€åŸºçŸ³**ï¼šé€šè¿‡æ¥å£å¼•ç”¨è°ƒç”¨ä¸åŒå®ç°ç±»çš„æ–¹æ³•

**ä»£ç ç¤ºä¾‹**

```js
public interface IShape {
    double Area();      // æ–¹æ³•ç­¾å
    string Name { get; } // å±æ€§ç­¾å
}
```

### **æ¥å£çš„æ ¸å¿ƒç‰¹æ€§**

![img](assets/1753687830035-05096a85-477f-4152-aa3f-97640eb9da0b.png)

### **æ¥å£çš„å®ç°ä¸å¤šæ€åº”ç”¨**

**å®ç°æ­¥éª¤**

1. **ç±»ç»§æ‰¿æ¥å£**ï¼š`class Circle : IShape`
2. **æä¾›å…·ä½“å®ç°**ï¼šå¿…é¡»å®ç°æ‰€æœ‰æ¥å£æˆå‘˜

```js
// ä¸åŒå®ç°ç±»
public class Circle : IShape {
    public double Radius { get; set; }
    public string Name => "åœ†å½¢";
    public double Area() => Math.PI * Radius * Radius;
}

public class Square : IShape {
    public double Side { get; set; }
    public string Name => "æ­£æ–¹å½¢";
    public double Area() => Side * Side;
}

// å¤šæ€è°ƒç”¨
List<IShape> shapes = new List<IShape> {
    new Circle { Radius = 5 },
    new Square { Side = 4 }
};

foreach (var shape in shapes) {
    Console.WriteLine($"{shape.Name} é¢ç§¯: {shape.Area():F2}");
}
```

**è¾“å‡ºç»“æœ**

```csharp
åœ†å½¢ é¢ç§¯: 78.54  
æ­£æ–¹å½¢ é¢ç§¯: 16.00
```

------

### **æ¥å£/æŠ½è±¡ç±»åŒºåˆ«**

| **ç‰¹æ€§**     | **æ¥å£ï¼ˆInterfaceï¼‰**            | **æŠ½è±¡ç±»ï¼ˆAbstract Classï¼‰** |
| ------------ | -------------------------------- | ---------------------------- |
| **å®ç°æ–¹å¼** | çº¯æŠ½è±¡å¥‘çº¦ï¼ˆæ— å®ç°ï¼‰             | å¯åŒ…å«éƒ¨åˆ†å®ç°               |
| **ç»§æ‰¿é™åˆ¶** | æ”¯æŒå¤šç»§æ‰¿                       | ä»…æ”¯æŒå•ç»§æ‰¿                 |
| **æˆå‘˜ç±»å‹** | æ— å­—æ®µ/æ„é€ å‡½æ•°                  | å¯åŒ…å«å­—æ®µã€æ„é€ å‡½æ•°         |
| **é€‚ç”¨åœºæ™¯** | å®šä¹‰è·¨å±‚çº§è¡Œä¸ºè§„èŒƒï¼ˆå¦‚æ’ä»¶æ¥å£ï¼‰ | æä¾›åŸºç¡€å®ç°ï¼ˆå¦‚åŠ¨ç‰©åŸºç±»ï¼‰   |

------

### **åº”ç”¨åœºæ™¯**

- **ğŸ”Œ** **æ’ä»¶ç³»ç»Ÿå¼€å‘**ï¼šå®šä¹‰`IPlugin`æ¥å£ï¼ŒåŠ¨æ€åŠ è½½ä¸åŒå®ç°
- **ğŸ§©** **ä¾èµ–æ³¨å…¥**ï¼šé€šè¿‡æ¥å£è§£è€¦è°ƒç”¨æ–¹ä¸å®ç°æ–¹ï¼ˆå¦‚`ILogger`ï¼‰
- **ğŸ§ª** **å•å…ƒæµ‹è¯•**ï¼šç”¨Mockç±»å®ç°æ¥å£æ›¿ä»£çœŸå®ä¾èµ–
- **ğŸ”„** **ç­–ç•¥æ¨¡å¼**ï¼šé€šè¿‡æ¥å£åˆ‡æ¢ç®—æ³•å®ç°ï¼ˆå¦‚`ISortAlgorithm`ï¼‰

------

### **è®¾è®¡åŸåˆ™ä¸æœ€ä½³å®è·µ**

- **âš–ï¸** **æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰**ï¼šæ‹†åˆ†è‡ƒè‚¿æ¥å£ä¸ºå¤šä¸ªå°æ¥å£ 

```js
// é”™è¯¯ï¼šèƒ–æ¥å£
public interface IWorker {
    void Work();
    void Eat();
}

// æ­£ç¡®ï¼šæ‹†åˆ†
public interface IWorkable { void Work(); }
public interface IEatable { void Eat(); }
```

- **â¬‡ï¸** **ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰**ï¼šé«˜å±‚æ¨¡å—ä¾èµ–æ¥å£è€Œéå…·ä½“ç±» 

```js
public class ReportGenerator {
    private readonly IDataProvider _dataProvider;
    public ReportGenerator(IDataProvider dataProvider) {
        _dataProvider = dataProvider; // æ³¨å…¥æ¥å£å®ç°
    }
}
```
